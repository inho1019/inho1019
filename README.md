
<br/>
<img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&size=24&pause=1000&color=36BCF7&width=435&lines=Frontend+engineer+inho_m" alt="Typing SVG" />

## Tech
<br>
<div align="center">
  <br/>
  <div>
    <img src="https://img.shields.io/badge/React-61DAFB?style=flat&logo=react&logoColor=white"/>
    <img src="https://img.shields.io/badge/ReactNative-61DAFB?style=flat&logo=react&logoColor=white"/>
    <img src="https://shields.io/badge/TypeScript-3178C6?logo=TypeScript&logoColor=FFF&style=flat-square"/>
    <img src="https://img.shields.io/badge/Graphql-E10098?style=flat&logo=graphql&logoColor=white"/>
  </div>
  <br/>
  <br/>
  <div style="display: flex; align-items: flex-start;">
    <img src="https://techstack-generator.vercel.app/github-icon.svg" alt="icon" width="70" height="70" />
    <img src="https://techstack-generator.vercel.app/react-icon.svg" alt="icon" width="70" height="70" />
    <img src="https://techstack-generator.vercel.app/ts-icon.svg" alt="icon" width="70" height="70" />
    <img src="https://techstack-generator.vercel.app/graphql-icon.svg" alt="icon" width="70" height="70" />
  </div>
</div>

## GitHub

<br>
<div align="center">
  <img src="https://streak-stats.demolab.com?user=inho1019&theme=dark&border_radius=4.5&date_format=%5BY.%5Dn.j&card_width=450&card_height=215" alt="GitHub Streak" />&nbsp;
  <img src="https://github-readme-stats.vercel.app/api/top-langs/?username=inho1019&layout=donut&theme=dark" />
</div>

<br>

## Blog
<details open>
  <summary>목록</summary>
  <ul>

<li>
    <a href="https://inho-m.tistory.com/16">정적 페이지 데이터 압축으로 트래픽 줄이기 (feat. fflate)</a>
</li><li>
    <a href="https://inho-m.tistory.com/14">FE Trend 개발기 #6 - 웹 3차(마지막)</a>
</li><li>
    <a href="https://inho-m.tistory.com/13">FE Trend 개발기 #5 - 웹 2차</a>
</li><li>
    <a href="https://inho-m.tistory.com/12">FE Trend 개발기 #4.1 - 구글 번역 개선</a>
</li><li>
    <a href="https://inho-m.tistory.com/11">FE Trend 개발기 #4.5 - 배포하기 (with.GitHub Pages)</a>
</li>
  </ul>
  <a href="https://inho-m.tistory.com">전체글보기</a>
</details>

### Recent Post

<details>
<summary>정적 페이지 데이터 압축으로 트래픽 줄이기 (feat. fflate)</summary>
<br/>
<p data-ke-size="size16">이번에 rss 파싱을 활용한 사이트를 하나 제작하였다.&nbsp;</p>
<p data-ke-size="size16">그런데 제작부터 조금 염려스러웠던 것이 바로 트래픽 관련 문제였다.</p>
<p data-ke-size="size16">해당 프로젝트 관련 포스트에도 적어 놨었는데 추후 등록 사이트가 대량으로 추가되고 그중 데이터 자체가 거대한 사이트도 존재하기 때문에 여러 사용자가 접속 시 트래픽이 금방 소진될 것 같다는 생각이 들었다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">아니나 다를까 특정 사이트들은 해당 사이트에서만 1mb가 넘는 용량을 차지 하고 있었다. 초기에는 해당 문제를 특정 필요 없는 html태그들을 제거하고 날짜제한을 1년가량으로 설정하여 해결하려고 했다.</p>
<figure id="og_1754278588654" contenteditable="false" data-ke-type="opengraph" data-ke-align="alignCenter" data-og-type="article" data-og-title="FE Trend 개발기 #5 - 웹 2차" data-og-description="4일 만에 포스트이다.뭔가 FE Magazine이라는 명칭이 좀 딱딱하고 저 g모양만 아래로 빠지는 게 마음에 안 들어서 FE Trend로 명칭을 바꾸고 리팩토링 작업을 하였다. 기본 작업에서는 퍼블리싱 작업" data-og-host="inho-m.tistory.com" data-og-source-url="https://inho-m.tistory.com/13#HTML%20%EC%A0%95%EC%A0%9C(sanitized)%ED%95%98%EA%B8%B0-1-2" data-og-url="https://inho-m.tistory.com/13" data-og-image="https://scrap.kakaocdn.net/dn/XjkF3/hyZqPk6P6W/lnjm6iEoTG6rTWAjjx1l3K/img.gif?width=380&amp;height=530&amp;face=0_0_380_530,https://scrap.kakaocdn.net/dn/bhKUSz/hyZqXpVx4Z/glbDcFBOZTJEUWLIql76hK/img.gif?width=380&amp;height=530&amp;face=0_0_380_530,https://scrap.kakaocdn.net/dn/bCxnzl/hyZqVezkB7/jGDFPd6TsCYLK3j5muDiwK/img.png?width=1040&amp;height=960&amp;face=0_0_1040_960"><a href="https://inho-m.tistory.com/13#HTML%20%EC%A0%95%EC%A0%9C(sanitized)%ED%95%98%EA%B8%B0-1-2" target="_blank" rel="noopener" data-source-url="https://inho-m.tistory.com/13#HTML%20%EC%A0%95%EC%A0%9C(sanitized)%ED%95%98%EA%B8%B0-1-2">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/XjkF3/hyZqPk6P6W/lnjm6iEoTG6rTWAjjx1l3K/img.gif?width=380&amp;height=530&amp;face=0_0_380_530,https://scrap.kakaocdn.net/dn/bhKUSz/hyZqXpVx4Z/glbDcFBOZTJEUWLIql76hK/img.gif?width=380&amp;height=530&amp;face=0_0_380_530,https://scrap.kakaocdn.net/dn/bCxnzl/hyZqVezkB7/jGDFPd6TsCYLK3j5muDiwK/img.png?width=1040&amp;height=960&amp;face=0_0_1040_960');">&nbsp;</div>
<div class="og-text">
<p class="og-title" data-ke-size="size16">FE Trend 개발기 #5 - 웹 2차</p>
<p class="og-desc" data-ke-size="size16">4일 만에 포스트이다.뭔가 FE Magazine이라는 명칭이 좀 딱딱하고 저 g모양만 아래로 빠지는 게 마음에 안 들어서 FE Trend로 명칭을 바꾸고 리팩토링 작업을 하였다. 기본 작업에서는 퍼블리싱 작업</p>
<p class="og-host" data-ke-size="size16">inho-m.tistory.com</p>
</div>
</a></figure>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">확실히 유의미한 효과는 있었다.</p>
<p data-ke-size="size16">용량이 4분의 3 가까이로 줄었고 불필요한 코드로 인한 데이터 손실 및 버그들을 없애는 효과가 있었다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">그럼에도 4mb -&gt; 3mb 로 변한 꼴이라 좀 더 최적화가 필요하다는 생각이 들었다.</p>
<p data-ke-size="size16">고민했던 게 진짜 데이터 베이스화를 하여 필요한 데이터만 쏙쏙 가져오고 reactQuery를 사용하여 캐시 관리까지 생각하였으나 아무래도 정적데이터를 가져오는 거라 비효율적이고 소요가 많이 발생하며 궁극적으로 프론트 엔드로서의 작업과는 거리가 멀어질 것 같다는 생각이 들었다.</p>
<p data-ke-size="size16">그래서 데이터 자체를 압축하여 저장하여 압축한 파일을 불러와 클라이언트에서 압축 해제하는 방식을 생각해보았다.</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style6" />
<h3 data-ke-size="size23">fflate을 활용한 데이터 압축/해제</h3>
<p data-ke-size="size16">방식 자체는 간단하였다.</p>
<p data-ke-size="size16">먼저 노드 및 리액트에서 모두 사용이 용이한 fflate 패키지를 설치해 주었다.</p>
<pre id="code_1754279213328" class="bash" data-ke-language="bash" data-ke-type="codeblock"><code>yarn add fflate</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">파일을 바로 압축할까 싶었지만 좀 더 시각적으로 관리가 용이하게 data파일과 data.gz파일을 두 개 모두 일단 만들도록 설정하였다.</p>
<pre id="code_1754279582505" class="typescript" data-ke-language="typescript" data-ke-type="codeblock"><code>import { gzipSync } from "fflate";

...
        writeFileSync(targetData, JSON.stringify(data, null, 2), 'utf8');

	//아래가 추가된 코드
        const readData = readFileSync(targetData);
        const compressed = gzipSync(readData);
        writeFileSync(`${targetData}.gz`, compressed);
 ...</code></pre>
<p data-ke-size="size16">기존에 만들어진 data를 바로 읽어서 압축 후 확장자명을 붙여 저장하도록 코드를 구성하였다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">하고 가장 중요한 압축률을 테스트해보았다.</p>
<p data-ke-size="size16">결과는....</p>
<p><figure class="imageblock alignCenter" data-ke-mobileStyle="widthOrigin" data-filename="스크린샷 2025-08-04 오후 1.06.30.png" data-origin-width="494" data-origin-height="91"><span data-url="https://blog.kakaocdn.net/dn/UoSxQ/btsPDHxBJHB/TEZcstgswRbrEbawlhHDck/img.png" data-phocus="https://blog.kakaocdn.net/dn/UoSxQ/btsPDHxBJHB/TEZcstgswRbrEbawlhHDck/img.png"><img src="https://blog.kakaocdn.net/dn/UoSxQ/btsPDHxBJHB/TEZcstgswRbrEbawlhHDck/img.png" srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FUoSxQ%2FbtsPDHxBJHB%2FTEZcstgswRbrEbawlhHDck%2Fimg.png" onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';" loading="lazy" width="494" height="91" data-filename="스크린샷 2025-08-04 오후 1.06.30.png" data-origin-width="494" data-origin-height="91"/></span></figure>
</p>
<p data-ke-size="size16">기대이상의 압축효과를 보여줬다...! 거의 4분의 1 수준으로 데이터가 압축이 되었다.</p>
<p data-ke-size="size16">이제 해당 데이터를 불러와서 이상 없이 해제만 되면 된다.</p>
<pre id="code_1754279853837" class="typescript" data-ke-language="typescript" data-ke-type="codeblock"><code>import { decompressSync, strFromU8 } from 'fflate';

...
                try {
                    const response = await fetch('./data.json.gz',{
                        headers: {
                            "Cache-Control": "public, max-age=10800",
                        },
                    });
                    //다음 주석까지가 새코드
                    const compressed = await response.arrayBuffer();
                    const decompressed = decompressSync(new Uint8Array(compressed));
                    const jsonText = strFromU8(decompressed);
                    const jsonData: ParserData[] = JSON.parse(jsonText);
                    //----------------
                    setData(jsonData);
                    setOriginalData(jsonData);
                } catch (error) {
                    console.error("Error fetching data:", error);
                    setData(null);
                    setOriginalData(null);
                }
...</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">gz가 서버단에서 해더를 설정하면 fetch시 자동으로 압축해제된 데이터를 가져온다고 하던데 우리는 현재 서버를 사용하지 않고 프로젝트의 로컬 디랙토리에서 파일을 fetch 하기에 파일을 불러온 후 압축해제코드를 사용해 주었다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">적용 후 실제 네트워크를 확인해 보았다.</p>
<p><figure class="imageblock widthContent" data-ke-mobileStyle="widthOrigin" data-filename="스크린샷 2025-08-04 오후 1.02.05.png" data-origin-width="992" data-origin-height="106"><span data-url="https://blog.kakaocdn.net/dn/SzSQF/btsPHiiop2h/6m5bGOsNxariCysve1jv50/img.png" data-phocus="https://blog.kakaocdn.net/dn/SzSQF/btsPHiiop2h/6m5bGOsNxariCysve1jv50/img.png"><img src="https://blog.kakaocdn.net/dn/SzSQF/btsPHiiop2h/6m5bGOsNxariCysve1jv50/img.png" srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FSzSQF%2FbtsPHiiop2h%2F6m5bGOsNxariCysve1jv50%2Fimg.png" onerror="this.onerror=null; this.src='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png'; this.srcset='//t1.daumcdn.net/tistory_admin/static/images/no-image-v1.png';" loading="lazy" width="992" height="106" data-filename="스크린샷 2025-08-04 오후 1.02.05.png" data-origin-width="992" data-origin-height="106"/></span></figure>
</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">잘 가져오고 잘 동작한다!</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">간단한 방법으로 최적화 작업을 완료한 것 같아서 기분이 좋다.</p>
<p data-ke-size="size16">아무래도 정적 페이지로 데이터를 가져올 때 유용한 기술이라 해당 방식으로는 다시 쓸 일은 없을 것 같지만 추후 비슷한 상황과 문제가 있으면 사용하기 좋을 것 같다!</p>
</details>
